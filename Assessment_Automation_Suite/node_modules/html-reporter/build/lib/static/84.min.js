"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[84],{68084:(e,t,l)=>{l.r(t),l.d(t,{TopPanel:()=>T});var n=l(2784),a=l(28786),r=l(50783),o=l(36043),s=l(10727),i=l(44200),c=l(4013),m=l(31499);const d=n.createContext(null),u=()=>{const e=n.useContext(d);if(!e)throw new Error('Alert: `useAlertContext` hook is used out of "AlertContext"');return e},v=e=>{const{view:t}=u();return n.createElement(r.z,Object.assign({view:"filled"===t?"normal-contrast":void 0},e))};var w=l(32590);const g=(0,w.Ge)("alert"),h=({layout:e,view:t,children:l})=>n.createElement(d.Provider,{value:{layout:e,view:t}},l),p=e=>n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),n.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14ZM6.53 5.47a.75.75 0 0 0-1.06 1.06L6.94 8 5.47 9.47a.75.75 0 1 0 1.06 1.06L8 9.06l1.47 1.47a.75.75 0 1 0 1.06-1.06L9.06 8l1.47-1.47a.75.75 0 1 0-1.06-1.06L8 6.94 6.53 5.47Z",clipRule:"evenodd"}));var f=l(75098);const E=e=>n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),n.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm1-9.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM8 7.75a.75.75 0 0 1 .75.75V11a.75.75 0 0 1-1.5 0V8.5A.75.75 0 0 1 8 7.75Z",clipRule:"evenodd"}));var x=l(34863);const A=e=>n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),n.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm3.1-8.55a.75.75 0 1 0-1.2-.9L7.419 8.858 6.03 7.47a.75.75 0 0 0-1.06 1.06l2 2a.75.75 0 0 0 1.13-.08l3-4Z",clipRule:"evenodd"}));var C=l(60148);const b=e=>n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),n.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.836 2.244c.962-1.665 3.366-1.665 4.328 0l4.917 8.505c.964 1.666-.239 3.751-2.164 3.751H3.083c-1.925 0-3.128-2.085-2.164-3.751l4.917-8.505ZM8 5a.75.75 0 0 1 .75.75v2a.75.75 0 1 1-1.5 0v-2A.75.75 0 0 1 8 5Zm1 5.75a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z",clipRule:"evenodd"}));var y=l(88089);const Z=e=>n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),n.createElement("path",{fill:"currentColor",d:"m14.61 6.914-7.632 8.08a1.614 1.614 0 0 1-2.69-1.66L5.5 10H2.677A1.677 1.677 0 0 1 1.12 7.7l2.323-5.807A2.216 2.216 0 0 1 5.5.5h4c.968 0 1.637.967 1.298 1.873L10 4.5h3.569a1.431 1.431 0 0 1 1.04 2.414Z"})),N=e=>n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),n.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"m7.835 6 .76-2.027L9.336 2H5.5a.716.716 0 0 0-.664.45L2.513 8.257a.177.177 0 0 0 .164.243h4.965l-.732 2.013-1.082 2.975a.382.382 0 0 0 .637.392l6.956-7.391A.29.29 0 0 0 13.21 6H7.835Zm1.558-4.154ZM10.563 3l.235-.627A1.386 1.386 0 0 0 9.5.5h-4c-.906 0-1.72.552-2.057 1.393L1.12 7.7A1.677 1.677 0 0 0 2.677 10H5.5l-.545 1.5-.537 1.475a1.882 1.882 0 0 0 3.14 1.933l6.956-7.391A1.79 1.79 0 0 0 13.21 4.5H10l.563-1.5Z",clipRule:"evenodd"})),k={danger:{filled:p,outlined:f.Z},info:{filled:E,outlined:x.Z},success:{filled:A,outlined:C.Z},warning:{filled:b,outlined:y.Z},utility:{filled:Z,outlined:N},normal:null};var L=l(58579);var R=l(6502);const z=JSON.parse('{"label_close":"Close"}'),O=JSON.parse('{"label_close":"Закрыть"}'),j=(0,R.e)({en:z,ru:O},"Alert"),H=e=>{const{theme:t="normal",view:l="filled",layout:d="vertical",message:u,className:v,corners:w,style:p,onClose:f,align:E,qa:x}=e;return n.createElement(h,{layout:d,view:l},n.createElement(o.Z,{style:p,className:g({corners:w},(0,c.W)({py:4,px:5},v)),theme:t,view:l,qa:x},n.createElement(m.k,{gap:"3",alignItems:E},void 0===e.icon?n.createElement(H.Icon,{theme:t,view:l}):e.icon,n.createElement(m.k,{direction:"vertical"===d?"column":"row",gap:"5",grow:!0},n.createElement(m.k,{gap:"2",grow:!0,className:g("text-content")},n.createElement(m.k,{direction:"column",gap:"1",grow:!0,justifyContent:E},"string"==typeof e.title?n.createElement(H.Title,{text:e.title}):e.title,u)),Array.isArray(e.actions)?n.createElement(H.Actions,{items:e.actions}):e.actions),f&&n.createElement(r.z,{view:"flat",className:g("close-btn"),onClick:f,extraProps:{"aria-label":j("label_close")}},n.createElement(s.J,{data:a.Z,size:18,className:(0,i.V)({color:"secondary"})})))))};H.Icon=({className:e,theme:t,view:l="filled",size:a=18})=>{const r=k[t];if(!r)return null;let o;return"success"===t?o="positive":"normal"!==t&&(o=t),n.createElement("div",{className:g("icon",(0,i.V)({color:o},e))},n.createElement(s.J,{data:r[l],size:a}))},H.Title=({text:e,className:t})=>n.createElement(L.x,{variant:"subheader-2",className:g("title",t)},e),H.Actions=({items:e,children:t,className:l})=>{const{layout:a}=u();return n.createElement(m.k,{className:g("actions",{minContent:"horizontal"===a},l),direction:"row",gap:"3",wrap:!0,alignItems:"horizontal"===a?"center":"flex-start"},(null==e?void 0:e.map((({handler:e,text:t},l)=>n.createElement(v,{key:l,onClick:e},t))))||t)},H.Action=v;var M=l(24746),B=l(50850);l(54368);const S=({topAlert:e})=>{const t=n.useRef(null),l=(e=>{const[t,l]=n.useState(0);return n.useEffect((()=>{if(e.current){const{current:t}=e;l(t.clientHeight)}}),[e]),t})(t),a=n.useCallback((e=>{const t=document.getElementsByClassName("g-root").item(0);null==t||t.style.setProperty("--gn-aside-top-panel-height",e+"px")}),[]),r=n.useCallback((()=>{var e;t.current&&a((null===(e=t.current)||void 0===e?void 0:e.clientHeight)||0)}),[t,a]);return n.useLayoutEffect((()=>{const t=(0,M.d)(r,200,{leading:!0});return e&&(window.addEventListener("resize",t),t()),()=>{window.removeEventListener("resize",t),a(0)}}),[e,l,t,r,a]),{topRef:t,updateTopSize:r}},T=({topAlert:e})=>{const{topRef:t,updateTopSize:l}=S({topAlert:e}),[a,r]=n.useState(!0),o=n.useCallback((()=>{var t;r(!1),null===(t=null==e?void 0:e.onCloseTopAlert)||void 0===t||t.call(e)}),[e]);return n.useEffect((()=>{a||l()}),[a,l]),e&&e.message?n.createElement("div",{ref:t,className:(0,B.b)("pane-top",{opened:a})},a&&n.createElement(n.Fragment,null,n.createElement(H,{className:(0,B.b)("pane-top-alert",{centered:e.centered,dense:e.dense}),corners:"square",layout:"horizontal",theme:e.theme||"warning",icon:e.icon,title:e.title,message:e.message,actions:e.actions,onClose:e.closable?o:void 0}),n.createElement("div",{className:(0,B.b)("pane-top-divider")}))):null}}}]);